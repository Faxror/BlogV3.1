@model IEnumerable<EntityLayerr.Concrate.Blogs>

<div class="grid grid-cols-1 md:grid-cols-1 gap-12 mb-16">
    @foreach (var x in Model)
    {
        @if (x.status) 
        {
            <div class="flex flex-col md:flex-row gap-8 items-center bg-background-light dark:bg-background-dark p-4 rounded-xl shadow-sm">

                <div class="w-full md:w-1/3 aspect-video rounded-lg bg-cover bg-center"
                     style='background-image:url("@x.BlogImage")'></div>
                <div class="flex-1 flex flex-col justify-between gap-3">
                    <div>
                        <h3 class="text-xl font-bold mb-2">@x.BlogTitle</h3>

                        @{              
                            var content = x.BlogDescription ?? "";
                            var shortened = content.Length > 200 ? content.Substring(0, 200) : content;
                            var truncated = shortened.Contains(" ")
                                ? shortened.Substring(0, shortened.LastIndexOf(" ")) + "..."
                                : shortened;
                        }

                        <p class="text-base text-slate-700 dark:text-slate-300">@Html.Raw(truncated)</p>

                        <p class="text-sm text-slate-500 dark:text-slate-500 mt-2">
                            @x.BlogTime.ToString("dd MMM yyyy")
                        </p>
                    </div>

                    <a class="text-primary font-semibold hover:underline self-start" href="/Home/BlogDetails/@x.Id">
                        Devamını Oku →
                    </a>
                </div>
            </div>
        }
    }
</div>
